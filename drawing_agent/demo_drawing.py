#!/usr/bin/env python3
"""
ä¸“åˆ©é™„å›¾ç»˜åˆ¶Agentæ¼”ç¤ºè„šæœ¬
å±•ç¤ºå„ç§ç±»å‹é™„å›¾çš„ç»˜åˆ¶æ•ˆæœ
"""

import asyncio
import os
from datetime import datetime

# æ·»åŠ è·¯å¾„
import sys
sys.path.insert(0, os.path.dirname(os.path.abspath(__file__)))

from agents import Runner
from patent_drawing_agent import patent_drawing_agent


async def demo_all_drawing_types():
    """æ¼”ç¤ºæ‰€æœ‰ç±»å‹çš„é™„å›¾ç»˜åˆ¶"""
    print("\n" + "=" * 70)
    print("ğŸ“ ä¸“åˆ©é™„å›¾ç»˜åˆ¶Agent - å®Œæ•´æ¼”ç¤º")
    print("=" * 70)

    print("\næ­¤æ¼”ç¤ºå°†å±•ç¤º5ç§ä¸åŒç±»å‹çš„ä¸“åˆ©é™„å›¾ç»˜åˆ¶ï¼š")
    print("1. æœºæ¢°ç»“æ„å›¾")
    print("2. ç”µè·¯å›¾")
    print("3. æµç¨‹å›¾")
    print("4. ç¤ºæ„å›¾")
    print("5. æ„é€ å›¾")
    print("\næ¯ä¸ªé™„å›¾éƒ½ä¼šä¿å­˜ä¸ºPNGæ–‡ä»¶")

    # æ¼”ç¤º1ï¼šæœºæ¢°ç»“æ„å›¾
    print("\n" + "=" * 70)
    print("æ¼”ç¤º1ï¼šæœºæ¢°ç»“æ„å›¾ - æ™ºèƒ½æ°´æ¯")
    print("=" * 70)

    result = await Runner.run(
        patent_drawing_agent,
        """
        è¯·åˆ›å»ºä¸€ä»½æœºæ¢°ç»“æ„å›¾ï¼š

        å‘æ˜åç§°ï¼šä¸€ç§å¸¦æ¸©åº¦æ˜¾ç¤ºçš„æ™ºèƒ½æ°´æ¯
        äº§å“æè¿°ï¼šæ™ºèƒ½æ°´æ¯é‡‡ç”¨åŒå±‚çœŸç©ºç»“æ„ï¼Œå†…ç½®æ¸©åº¦ä¼ æ„Ÿå™¨å’ŒLEDæ˜¾ç¤ºå±ï¼Œæ¯ç›–æœ‰å¯†å°åœˆ
        ç»„ä»¶ï¼šæ°´æ¯æ¯ä½“, åŒå±‚çœŸç©ºç»“æ„, æ¸©åº¦ä¼ æ„Ÿå™¨, LEDæ˜¾ç¤ºå±, æ¯ç›–å¯†å°åœˆ, USBå……ç”µå£
        è¾“å‡ºè·¯å¾„ï¼šdemo_1_æœºæ¢°ç»“æ„å›¾.png
        """
    )

    print(result.final_output)

    # æ¼”ç¤º2ï¼šç”µè·¯å›¾
    print("\n" + "=" * 70)
    print("æ¼”ç¤º2ï¼šç”µè·¯å›¾ - æ¸©åº¦ç›‘æµ‹ç”µè·¯")
    print("=" * 70)

    result = await Runner.run(
        patent_drawing_agent,
        """
        è¯·åˆ›å»ºä¸€ä»½ç”µè·¯å›¾ï¼š

        å‘æ˜åç§°ï¼šä¸€ç§æ¸©åº¦ç›‘æµ‹ç”µè·¯
        äº§å“æè¿°ï¼šç”µè·¯åŒ…å«æ¸©åº¦ä¼ æ„Ÿå™¨ã€æ”¾å¤§å™¨ã€å¾®æ§åˆ¶å™¨å’Œæ˜¾ç¤ºå™¨
        ç»„ä»¶ï¼šæ¸©åº¦ä¼ æ„Ÿå™¨, è¿ç®—æ”¾å¤§å™¨, å¾®æ§åˆ¶å™¨, LCDæ˜¾ç¤ºå™¨, ç”µæºç”µè·¯, æ»¤æ³¢ç”µå®¹
        è¾“å‡ºè·¯å¾„ï¼šdemo_2_ç”µè·¯å›¾.png
        """
    )

    print(result.final_output)

    # æ¼”ç¤º3ï¼šæµç¨‹å›¾
    print("\n" + "=" * 70)
    print("æ¼”ç¤º3ï¼šæµç¨‹å›¾ - è®¾å¤‡æ“ä½œæµç¨‹")
    print("=" * 70)

    result = await Runner.run(
        patent_drawing_agent,
        """
        è¯·åˆ›å»ºä¸€ä»½æµç¨‹å›¾ï¼š

        å‘æ˜åç§°ï¼šä¸€ç§è‡ªåŠ¨å”®è´§æœºçš„æ“ä½œæµç¨‹
        äº§å“æè¿°ï¼šè‡ªåŠ¨å”®è´§æœºçš„å®Œæ•´æ“ä½œæµç¨‹
        æµç¨‹æ­¥éª¤ï¼šå¯åŠ¨ç³»ç»Ÿ; ç­‰å¾…ç”¨æˆ·æŠ•å¸; éªŒè¯å¸ç§å’Œé‡‘é¢; æ˜¾ç¤ºå•†å“åˆ—è¡¨; ç”¨æˆ·é€‰æ‹©å•†å“; éªŒè¯åº“å­˜; ç¡®è®¤è®¢å•; å‡ºè´§; æ‰¾é›¶; ç»“æŸäº¤æ˜“
        è¾“å‡ºè·¯å¾„ï¼šdemo_3_æµç¨‹å›¾.png
        """
    )

    print(result.final_output)

    # æ¼”ç¤º4ï¼šç¤ºæ„å›¾
    print("\n" + "=" * 70)
    print("æ¼”ç¤º4ï¼šç¤ºæ„å›¾ - ç¡¬ä»¶é’±åŒ…")
    print("=" * 70)

    result = await Runner.run(
        patent_drawing_agent,
        """
        è¯·åˆ›å»ºä¸€ä»½ç¤ºæ„å›¾ï¼š

        å‘æ˜åç§°ï¼šä¸€ç§å¸¦æŒ‡çº¹è¯†åˆ«çš„åŒºå—é“¾ç¡¬ä»¶é’±åŒ…
        äº§å“æè¿°ï¼šæ¤­åœ†å½¢çš„ä¾¿æºå¼ç¡¬ä»¶é’±åŒ…ï¼Œå†…ç½®æŒ‡çº¹è¯†åˆ«å’Œæ˜¾ç¤ºå±
        ç»„ä»¶ï¼šæ¤­åœ†å½¢å¤–å£³ä½“, OLEDæ˜¾ç¤ºå±, æŒ‡çº¹è¯†åˆ«æ¨¡å—, PCBä¸»æ¿, é”‚ç”µæ± , USB-Cæ¥å£
        è¾“å‡ºè·¯å¾„ï¼šdemo_4_ç¤ºæ„å›¾.png
        """
    )

    print(result.final_output)

    # æ¼”ç¤º5ï¼šæ„é€ å›¾
    print("\n" + "=" * 70)
    print("æ¼”ç¤º5ï¼šæ„é€ å›¾ - æŠ˜å æ¢¯å­")
    print("=" * 70)

    result = await Runner.run(
        patent_drawing_agent,
        """
        è¯·åˆ›å»ºä¸€ä»½æ„é€ å›¾ï¼š

        å‘æ˜åç§°ï¼šä¸€ç§é˜²æ»‘æŠ˜å æ¢¯å­
        äº§å“æè¿°ï¼šæŠ˜å æ¢¯å­é‡‡ç”¨åŒå‘é”å®šæœºåˆ¶ï¼Œåº•éƒ¨æœ‰å¯è°ƒèŠ‚æ”¯æ’‘è„š
        ç»„ä»¶ï¼šæ¢¯ä½“, è¸æ¿, é˜²æ»‘å«ç‰‡, æŠ˜å æœºæ„, å®‰å…¨é”æ‰£, ä¼¸ç¼©æ”¯æ’‘æ†, åº•éƒ¨é˜²æ»‘è„šå«, è¿æ¥é“°é“¾
        è¾“å‡ºè·¯å¾„ï¼šdemo_5_æ„é€ å›¾.png
        """
    )

    print(result.final_output)

    # ç”Ÿæˆæ¼”ç¤ºæŠ¥å‘Š
    print("\n" + "=" * 70)
    print("ğŸ“‹ æ¼”ç¤ºæŠ¥å‘Š")
    print("=" * 70)

    demo_files = [
        "demo_1_æœºæ¢°ç»“æ„å›¾.png",
        "demo_2_ç”µè·¯å›¾.png",
        "demo_3_æµç¨‹å›¾.png",
        "demo_4_ç¤ºæ„å›¾.png",
        "demo_5_æ„é€ å›¾.png"
    ]

    print(f"\næ¼”ç¤ºæ—¶é—´ï¼š{datetime.now().strftime('%Y-%m-%d %H:%M:%S')}")
    print(f"ç”Ÿæˆé™„å›¾æ•°é‡ï¼š{len(demo_files)}")

    print(f"\nç”Ÿæˆçš„é™„å›¾æ–‡ä»¶ï¼š")
    for i, filename in enumerate(demo_files, 1):
        if os.path.exists(filename):
            size = os.path.getsize(filename)
            print(f"  {i}. âœ… {filename} ({size:,} bytes)")
        else:
            print(f"  {i}. âŒ {filename} (æœªç”Ÿæˆ)")

    # ä¿å­˜æ¼”ç¤ºæŠ¥å‘Š
    report_file = f"ä¸“åˆ©é™„å›¾ç»˜åˆ¶æ¼”ç¤ºæŠ¥å‘Š_{datetime.now().strftime('%Y%m%d_%H%M%S')}.txt"
    with open(report_file, 'w', encoding='utf-8') as f:
        f.write("="*70 + "\n")
        f.write("ä¸“åˆ©é™„å›¾ç»˜åˆ¶Agent - å®Œæ•´æ¼”ç¤ºæŠ¥å‘Š\n")
        f.write("="*70 + "\n\n")
        f.write(f"æ¼”ç¤ºæ—¶é—´ï¼š{datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\n")
        f.write(f"ç”Ÿæˆé™„å›¾æ•°é‡ï¼š{len(demo_files)}\n\n")

        f.write("="*70 + "\n")
        f.write("ç”Ÿæˆçš„é™„å›¾æ–‡ä»¶ï¼š\n")
        f.write("="*70 + "\n\n")

        for i, filename in enumerate(demo_files, 1):
            if os.path.exists(filename):
                size = os.path.getsize(filename)
                f.write(f"{i}. {filename}\n")
                f.write(f"   çŠ¶æ€ï¼šç”ŸæˆæˆåŠŸ\n")
                f.write(f"   æ–‡ä»¶å¤§å°ï¼š{size:,} bytes\n\n")
            else:
                f.write(f"{i}. {filename}\n")
                f.write(f"   çŠ¶æ€ï¼šæœªç”Ÿæˆ\n\n")

        f.write("="*70 + "\n")
        f.write("é™„å›¾ç±»å‹è¯´æ˜ï¼š\n")
        f.write("="*70 + "\n\n")

        f.write("1. æœºæ¢°ç»“æ„å›¾\n")
        f.write("   - å±•ç¤ºäº§å“çš„æœºæ¢°ç»“æ„å’Œéƒ¨ä»¶å…³ç³»\n")
        f.write("   - é€‚ç”¨äºæœºæ¢°å‘æ˜ã€å®ç”¨æ–°å‹\n")
        f.write("   - é‡ç‚¹ï¼šéƒ¨ä»¶å½¢çŠ¶å’Œè¿æ¥å…³ç³»\n\n")

        f.write("2. ç”µè·¯å›¾\n")
        f.write("   - æ˜¾ç¤ºç”µå­ç”µè·¯ç»“æ„\n")
        f.write("   - é€‚ç”¨äºç”µå­å‘æ˜\n")
        f.write("   - é‡ç‚¹ï¼šç”µå­ç»„ä»¶å’Œè¿æ¥å…³ç³»\n\n")

        f.write("3. æµç¨‹å›¾\n")
        f.write("   - å±•ç¤ºæ“ä½œæµç¨‹å’Œæ­¥éª¤\n")
        f.write("   - é€‚ç”¨äºæ–¹æ³•å‘æ˜\n")
        f.write("   - é‡ç‚¹ï¼šæ“ä½œæ­¥éª¤å’Œæµç¨‹\n\n")

        f.write("4. ç¤ºæ„å›¾\n")
        f.write("   - ç®€åŒ–è¡¨ç¤ºæ•´ä½“ç»“æ„\n")
        f.write("   - é€‚ç”¨äºç»¼åˆå‘æ˜\n")
        f.write("   - é‡ç‚¹ï¼šæ•´ä½“å¤–è§‚å’Œç»“æ„\n\n")

        f.write("5. æ„é€ å›¾\n")
        f.write("   - å±•ç¤ºå†…éƒ¨æ„é€ ç»†èŠ‚\n")
        f.write("   - é€‚ç”¨äºç»“æ„å‘æ˜\n")
        f.write("   - é‡ç‚¹ï¼šå†…éƒ¨ç»“æ„å’Œç»†èŠ‚\n\n")

        f.write("="*70 + "\n")
        f.write("ç¬¦åˆä¸“åˆ©å®¡æŸ¥æŒ‡å—ï¼š\n")
        f.write("="*70 + "\n\n")

        f.write("âœ“ çº¿æ¡æ¸…æ™°ï¼Œç²—ç»†å‡åŒ€ï¼ˆ0.3-0.7mmï¼‰\n")
        f.write("âœ“ é»‘è‰²çº¿æ¡ç»˜åˆ¶ï¼Œä¸å¾—ç€è‰²\n")
        f.write("âœ“ åˆ†è¾¨ç‡300DPI\n")
        f.write("âœ“ æ ‡è®°æ¸…æ¥šï¼Œä¸è¯´æ˜ä¹¦ä¸€è‡´\n")
        f.write("âœ“ é™„å›¾ä¸è¯´æ˜ä¹¦å†…å®¹ä¸€è‡´\n")
        f.write("âœ“ å¸ƒå±€åˆç†ï¼Œæ¯”ä¾‹åè°ƒ\n")
        f.write("âœ“ ç¬¦åˆåˆ¶å›¾å›½å®¶æ ‡å‡†\n\n")

    print(f"\nâœ… æ¼”ç¤ºæŠ¥å‘Šå·²ä¿å­˜åˆ°ï¼š{report_file}")

    print("\n" + "=" * 70)
    print("ğŸ‰ ä¸“åˆ©é™„å›¾ç»˜åˆ¶Agentæ¼”ç¤ºå®Œæˆï¼")
    print("=" * 70)
    print("\næ€»ç»“ï¼š")
    print("- âœ… æ‰€æœ‰5ç§é™„å›¾ç±»å‹æ¼”ç¤ºæˆåŠŸ")
    print("- âœ… ç¬¦åˆä¸“åˆ©å®¡æŸ¥æŒ‡å—è¦æ±‚")
    print("- âœ… å›¾åƒè´¨é‡è‰¯å¥½")
    print("- âœ… æ ‡è®°æ¸…æ¥šè§„èŒƒ")
    print("\nğŸ“Œ æ‚¨å¯ä»¥ä½¿ç”¨è¿™äº›ç”Ÿæˆçš„é™„å›¾ä½œä¸ºä¸“åˆ©ç”³è¯·çš„ä¸€éƒ¨åˆ†ï¼")


if __name__ == "__main__":
    asyncio.run(demo_all_drawing_types())
